<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>AEGIS SOC Dashboard</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <h1>ğŸ›¡ï¸ AEGIS SOC Dashboard</h1>

    <!-- =============================
         TOP STATUS OVERVIEW
    ============================= -->

    <section class="card center">
        <h2>System Health</h2>
        <p id="health-status">Checking...</p>
    </section>

    <section class="card center">
        <h2>ğŸš¨ Alert Index (Overall Risk)</h2>
        <div id="alert-gauge"></div>
    </section>

    <!-- =============================
         ALERT EXPLANATION
    ============================= -->

    <section class="card">
        <h2>ğŸ” Alert Explanation (Local XAI)</h2>

        <label for="alertIndex">Sample Index:</label>
        <input type="number" id="alertIndex" value="5" />
        <button onclick="getExplanation()">Explain Alert</button>

        <pre id="explain-output"></pre>
    </section>

    <!-- =============================
         DRIFT MONITOR
    ============================= -->

    <section class="card">
        <h2>ğŸ§­ Feature Drift Monitor</h2>

        <div class="btn-row">
            <button onclick="getDrift(false)">Check Drift</button>
            <button class="danger" onclick="getDrift(true)">ğŸ§ª Simulate Drift</button>
        </div>

        <table id="drift-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>PSI</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- =============================
         HISTORY & TRENDS
    ============================= -->

    <section class="card">
        <h2>ğŸ“ˆ Drift Trend (History)</h2>
        <button onclick="loadDriftHistory()">Load Drift History</button>
        <div id="drift-history-chart"></div>
    </section>

    <section class="card">
        <h2>ğŸ“‰ Model Health History</h2>
        <button onclick="loadPerformanceHistory()">Load Performance</button>
        <div id="performance-history-chart"></div>
    </section>

    <section class="card">
        <h2>â±ï¸ Retraining & Policy Timeline</h2>
        <button onclick="loadRetrainingHistory()">Load Events</button>
        <div id="retraining-history-chart"></div>
    </section>

    <!-- Plotly -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="app.js"></script>

</body>
</html>
